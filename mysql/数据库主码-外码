
数据库主码、外码

主码和外码是用来实现参照完整性的，
外码的数据项需参照主码的数据项来操作。
具体实现是在创建数据库时为表间创立关系。
如： 
三个关系：
学生信息表（学号、姓名、性别、出生年月、籍贯、所属学院） //学号 是主键（主码
课程表（课程号，课程名称，学分） //课程号 是主键（主码
成绩表（学号，课程号，成绩） //学号 是外码；课程号 是外码

“成绩表”（从表）的学号参照“学生信息表”（主表）的学号来录入。
1、也就是主表里面没有的学号，从表里面不能有，外码参照主码录入；
2、级联操作，即当删除、修改某个主表里面的学号时，
   从表里面的那个学号会相应的自动删除、修改。外码参照主码操作。


主码 ，外码也可以称为主键，外键。
什么是主码，主码是一个能唯一标识一个元组的属性。
在一个关系（表）中，主码不一定只有一个，
但是一定要有的。
因为元组，是对世界中某种事物的数据描述，而世界中各种事物，都具有唯一性，都是可以区分的。
在计算机中为了描述事物的唯一性，引入了主码的概念。
在一个关系中，不同元组的主码一定不能为空，且值一定要不同。
因为如果为空说明这个事物是不可标识的，而这个世界的任何事物都是可以标识的，
说以主码为空显然不合法；如果两个主码值相同则说明两个事物是相同的，
而这个世界的任何事物都是不同的，所以两个主码值相同，显然也是不合法的。



什么是外码，如果一个关系中的一个属性是另外一个关系中的主码则这个属性为外码。
外码的值要嘛为空，要嘛要为其对应的主码中的一个值。


在《数据库系统概论》（第四版）——王珊、萨师煊编著中：
1.候选码的定义：如果关系中的某一属性组的值能唯一地标识一个元祖，则称该属性组为候选码；
主码的定义：如果一个关系有多个候选码，则选定其中一个为主码；
主属性定义：候选码的诸属性称为主属性；
非主属性定义：不包含在任何候选码中的属性称为非主属性；
实体完整性规则：如果属性（一个或者一组属性）A是基本关系R的主属性，则A不能取空值。
根据上面的定义，如果有下表：
工号 |   姓名 |  住址  |  年龄  |  职位

假设工号、姓名和职位都可以唯一标识一个实体，说明都是候选码，那三者也应该都是主属性，
三者根据实体完整性规则不可以取空值，余下是非主属性（还是说选定了工号作为主码以后，工号是主属性，其余是非主属性，工号不可以取空值）

2.码的定义是什么？
以下定义出自热心网友：
码是数据系统中的基本概念。所谓码就是能唯一标识实体的属性，他是整个实体集的性质，而不是单个实体的性质。
它包括超码，候选码，主码。　　

超码是一个或多个属性的集合，这些属性可以让我们在一个实体集中唯一地标识一个实体。
如果K是一个超码，那么K的任意超集也是超码，也就是说如果K是超码，那么所有包含K的集合也是超码。　　

候选码是从超码中选出的，自然地候选码也是一个或多个属性的集合。因为超码的范围太广，
很多是我们并不感兴趣即无用处的。所以候选码是最小超码，它们的任意真子集都不能成为超码。
例如，如果K是超码，那么所有包含K的集合都不能是候选码；
如果K，J都不是超码，那么K和J组成的集合（K，J）有可能是候选码。

按照上面码的定义看看外码的定义如下：
设F是基本关系R的一个或者一组属性，但不是关系R的码。
K(s)是基本关系S的主码。
如果F与K(s)相对对应，
则称F是R的外码。










